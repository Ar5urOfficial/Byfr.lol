:root {
    --mac-bg: rgba(13, 13, 13, 0.96);
    --accent: #00c2ff;
    --accent-grad: linear-gradient(to bottom, #00c2ff, #7e57ff);
}

body.theme-red {
    --accent: #ff4d4d;
    --accent-grad: linear-gradient(to bottom, #ff4d4d, #990000);
}

body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; font-family: sans-serif; display: flex; justify-content: center; align-items: center; overflow: hidden; }

/* TŁO GRID */
.grid-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; perspective: 1000px; }
.grid-3d {
    position: absolute; width: 400%; height: 400%; top: -150%; left: -150%;
    background-image: linear-gradient(var(--accent) 1px, transparent 1px), linear-gradient(90deg, var(--accent) 1px, transparent 1px);
    background-size: 50px 50px; transform: rotateX(65deg); opacity: 0.15; animation: moveGrid 20s linear infinite;
}
@keyframes moveGrid { from { transform: rotateX(65deg) translateY(0); } to { transform: rotateX(65deg) translateY(50px); } }

/* KONSTRUKCJA SERC - WYMUSZENIE WIDOCZNOŚCI */
#hearts-container { 
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; height: 100%; 
    pointer-events: none; 
    z-index: 2; /* Serca muszą być nad gridem (z-index 1) */
}

.heart { 
    position: absolute; 
    width: 30px !important; 
    height: 30px !important; 
    background-image: url('mc_hearth.png') !important; 
    background-size: contain !important; 
    background-repeat: no-repeat !important;
    animation: fall linear forwards; 
}

@keyframes fall { 
    0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotate(360deg); opacity: 0; } 
}

/* OKNO UI */
.mac-window { position: relative; z-index: 10; width: 950px; height: 620px; background: var(--mac-bg); border-radius: 14px; display: flex; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(20px); }

/* Reszta stylów (sidebar, logo, nav-link) pozostaje z poprzedniej poprawnej wersji */
.sidebar { width: 220px; background: rgba(0,0,0,0.2); border-right: 1px solid rgba(255,255,255,0.05); padding: 20px 0; display: flex; flex-direction: column; }
.nav-link { padding: 12px 25px; color: #777; cursor: pointer; font-size: 14px; }
.nav-link.active { color: var(--accent); border-left: 4px solid var(--accent); background: rgba(255,255,255,0.03); }
.b-logo { height: 80px; width: 80px; border-radius: 20px; object-fit: cover; filter: drop-shadow(0 0 15px var(--accent)); }
.logo-text { font-size: 65px; font-weight: 900; background: var(--accent-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: -3px; }
.main { flex: 1; padding: 40px; color: white; display: none; overflow-y: auto; }
.main.active { display: block; }
